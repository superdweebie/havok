<!DOCTYPE html><html lang="en" ><HEAD >        <META charset="utf-8" ></META>        <TITLE >Havok by Zoop</TITLE>        <META http-equiv="X-UA-Compatible" content="IE=Edge" ></META>        <META name="viewport" content="width=device-width, initial-scale=1.0" ></META>        <META name="description" content="" ></META>        <META name="author" content="Tim Roediger" ></META>
        <LINK href="/favicon.png" type="image/png" rel="shortcut icon" ></LINK>        <LINK href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,300,700" rel="stylesheet" type="text/css" ></LINK>
        <LINK id="themeSwtichLink" rel="stylesheet" href="/docs/zoop.css" ></LINK>        <SCRIPT src="/docs/docs.js" ></SCRIPT>                </HEAD><BODY id="docBody" >
        <DIV class="navbar top-nav navbar-fixed-top navbar-inverse" id="serverParsed_1_0" dir="ltr" widgetId="serverParsed_1_0" data-dojo-type="../widget/NavBar" data-dojo-props="&quot;_rendered&quot;:true" ><DIV class="navbar-inner" data-dojo-attach-point="containerNode" >    <A class="top-nav-toggle" data-havok-nav-bar-toggle="" >        <SPAN class="icon-bar" ></SPAN>        <SPAN class="icon-bar" ></SPAN>        <SPAN class="icon-bar" ></SPAN>    </A>    <A class="brand pull-left" href="./index.html" ><SVG xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 569 200" version="1.1" ><PATH style="fill:#32bfbd" d="m 157,169 c -3,0 -5,1 -7,1 0,0 0,0 0,0 -1,1 -2,2 -4,3 -1,1 -2,3 -2,4 -1,2 -2,5 -2,8 0,4 2,8 4,11 3,2 7,4 11,4 4,0 8,-2 10,-4 3,-3 4,-7 4,-11 0,-5 -1,-9 -4,-12 -2,-2 -6,-4 -10,-4 z m 0,7 c 2,0 3,1 4,2 1,2 2,4 2,6 0,3 -1,5 -2,7 -1,1 -2,2 -4,2 -2,0 -3,-1 -5,-2 -1,-2 -1,-4 -1,-6 0,-3 0,-5 1,-7 1,-1 3,-2 5,-2 z" /><PATH style="fill:#ce0000" d="M 31.6,-0.13 C 14.1,-0.13 0,14 0,31.5 L 0,124 c 0,17 14.1,31 31.6,31 l 467.4,0 c 0,0 1,0 2,0 l 68,40 -39,-74 0,-89.5 C 530,14 516,-0.13 499,-0.13 l -467.4,0 z" /><PATH style="fill:#ffffff" d="M 352 24.7 C 344 24.7 336 26 330 28.8 C 325 30.8 320 34 316 38.2 C 312 42.3 309 47.1 307 52.3 C 304 59.5 302 68.1 302 78.1 C 302 93.8 307 107 316 116 C 325 126 337 130 352 130 C 367 130 379 126 388 116 C 397 107 402 93.6 402 77.7 C 402 61.6 397 48.4 388 38.9 C 379 29.5 367 24.7 352 24.7 z M 28.8 26.3 L 28.8 129 L 56.4 129 L 56.4 87.8 L 84.9 87.8 L 84.9 129 L 112 129 L 112 26.3 L 84.9 26.3 L 84.9 63.3 L 56.4 63.3 L 56.4 26.3 L 28.8 26.3 z M 112 129 L 141 129 C 144 122 147 115 149 107 L 181 107 C 183 115 186 122 189 129 L 219 129 C 204 92.8 190 57.4 178 26.3 L 152 26.3 C 138 61.9 124 98 112 129 z M 207 26.3 C 220 62.4 232 98 244 129 L 270 129 C 283 93.2 296 56.8 307 26.3 L 277 26.3 C 271 46.4 264 66.5 257 86.5 C 250 66.5 244 46.4 237 26.3 L 207 26.3 z M 408 26.3 L 408 129 L 436 129 L 436 98 L 446 87.5 C 454 101 462 115 470 129 L 505 129 C 492 108 479 88.1 465 67.7 C 479 53.9 492 40.1 505 26.3 L 468 26.3 C 457 37.9 446 49.6 436 61.2 L 436 26.3 L 408 26.3 z M 352 49.5 C 359 49.5 364 51.6 368 56 C 371 60.3 374 67.1 374 77.2 C 374 87.5 371 94.5 367 99 C 363 103 359 106 352 106 C 346 106 341 103 337 99 C 333 94.3 330 87.4 330 77.5 C 330 67.3 333 60.4 336 56.1 C 340 51.7 345 49.5 352 49.5 z M 165 65 L 171 83 L 158 83 L 165 65 z " /><PATH style="fill:#e7e7e7" d="m 127,169 c -2,0 -4,1 -6,1 l 0,0 c -2,1 -3,2 -4,3 -1,1 -2,3 -3,4 -1,2 -1,5 -1,8 0,4 1,8 4,11 2,2 6,4 10,4 4,0 8,-1 11,-4 2,-3 4,-7 4,-11 0,-5 -2,-9 -4,-12 -3,-2 -7,-4 -11,-4 z m -99.5,1 c 0,10 0,21 0,29 3.5,0 7,0 10.5,0 3.6,0 5.7,0 6.8,0 1.6,0 3,0 4.2,-1 1.2,-1 2.1,-2 2.8,-4 0.7,-1 1,-2 1,-4 0,-2 -0.5,-3 -1.6,-5 -0.6,0 -1.4,-1 -2.3,-1 0.5,-1 1,-1 1.3,-2 0.8,-1 1.3,-3 1.3,-4 0,-2 -0.4,-3 -1.1,-4 -0.6,-1 -1.4,-2 -2.4,-3 -1,0 -2.1,-1 -3.3,-1 -1.2,0 -2.9,0 -5,0 -4.1,0 -8.1,0 -12.2,0 z m 23.6,0 c 3.6,6 7.3,11 11,17 0,4 0,8 0,12 2.6,0 5.3,0 7.9,0 0,-4 0,-8 0,-12 3.7,-6 7.3,-11 11,-17 -3.1,0 -6.2,0 -9.3,0 -1.8,3 -3.7,6 -5.5,9 -1.9,-3 -3.8,-6 -5.7,-9 -3.1,0 -6.3,0 -9.4,0 z m 38.9,0 c 0,2 0,4 0,7 3.8,0 7.6,0 11,0 -4,5 -8.3,10 -12.6,16 0,2 0,4 0,6 8.2,0 16.6,0 24.6,0 0,-2 0,-4 0,-7 -5,0 -9,0 -14.1,0 4.1,-5 9.1,-11 13.1,-16 0,-2 0,-4 0,-6 -7,0 -14.5,0 -22,0 z m 83,0 c 0,10 0,21 0,29 3,0 5,0 8,0 0,-3 0,-6 0,-10 l 2,0 c 3,0 5,0 6,0 1,-1 2,-1 3,-2 2,-1 2,-2 3,-3 1,-1 1,-3 1,-5 0,-2 0,-4 -2,-6 -1,-1 -2,-2 -4,-3 0,0 0,0 0,0 -2,0 -4,0 -7,0 -3,0 -7,0 -10,0 z m -46,6 c 2,0 4,1 5,2 1,2 1,4 1,6 0,3 0,5 -1,7 -1,1 -3,2 -5,2 -2,0 -3,-1 -4,-2 -1,-2 -2,-4 -2,-6 0,-3 1,-5 2,-7 1,-1 2,-2 4,-2 z m -91.5,1 1.9,0 c 2.6,0 4.2,0 4.5,0 0.1,0 0.1,0 0.1,0 0.7,0 1,0 1.2,0 0.3,1 0.4,1 0.4,2 0,0 -0.1,1 -0.4,1 -0.3,0 -0.8,0 -1.5,0 -0.3,0 -1.7,1 -3.8,1 l -2.4,0 0,-4 z m 145.5,0 1,0 c 2,0 4,0 4,0 1,0 1,0 1,1 1,0 1,1 1,1 0,1 0,1 0,2 -1,0 -1,1 -2,1 0,0 -1,0 -3,0 l -2,0 z m -145.5,11 3.2,0 c 2.5,0 4.1,0 4.4,0 0.6,0 0.9,0 1.1,1 0.3,0 0.4,0 0.4,1 0,1 -0.1,1 -0.4,1 -0.3,1 -0.7,1 -1.3,1 l 0,0 c -0.3,0 -1.6,0 -3.5,0 l -3.9,0 z" /></SVG></A>    <DIV data-havok-nav-bar-toggle-target="" class="pull-right" >        <UL data-dojo-attach-point="containerNode" class="nav" dir="ltr" id="topNav" widgetId="topNav" data-dojo-type="../widget/NavBarLinks" data-dojo-props="&quot;id&quot;:&quot;topNav&quot;,&quot;_rendered&quot;:true" >            <LI data-havok-handler-id="0" ><A href="/index.html" data-havok-click-target="true" >Home</A></LI>            <LI data-havok-handler-id="1" ><A href="/getting-started.html" data-havok-click-target="true" >Get started</A></LI>            <LI data-havok-handler-id="2" ><A href="/widgets.html" data-havok-click-target="true" >Widgets</A></LI>            <LI data-havok-handler-id="3" ><A href="/forms.html" data-havok-click-target="true" >Forms</A></LI>            <LI data-havok-handler-id="4" ><A href="/stores.html" data-havok-click-target="true" >Stores</A></LI>            <LI data-havok-handler-id="5" ><A href="/data-quality.html" data-havok-click-target="true" >Data Quality</A></LI>            <LI data-havok-handler-id="6" ><A href="/services.html" data-havok-click-target="true" >Services</A></LI>            <LI data-havok-handler-id="7" ><A href="/di.html" data-havok-click-target="true" >DI</A></LI>            <LI data-havok-handler-id="8" ><A href="/builds.html" data-havok-click-target="true" >Builds</A></LI>            <LI data-havok-handler-id="9" ><A href="/api.html" data-havok-click-target="true" >API</A></LI>            <LI data-havok-handler-id="10" ><A href="/dev.html" data-havok-click-target="true" >Dev</A></LI>        </UL>        <DIV data-dojo-attach-point="containerNode" class="btn-group theme-switch" id="serverParsed_9_0" dir="ltr" widgetId="serverParsed_9_0" data-dojo-type="docs/ThemeSwitch" data-dojo-props="&quot;_rendered&quot;:true" ><BUTTON class="btn-inverse btn" data-havok-handler-id="0" ><IMG src="/favicon.png" /></BUTTON><BUTTON class="btn-inverse btn" data-havok-handler-id="1" ><IMG src="/bootstrap.png" /></BUTTON></DIV>    </DIV></DIV></DIV>
        <DIV class="feedback" id="serverParsed_1_1" dir="ltr" widgetId="serverParsed_1_1" data-dojo-type="docs/Feedback" data-dojo-props="&quot;bugLink&quot;:&quot;http://github.com/zoopcommerce/havok/issues&quot;,&quot;issuesLink&quot;:&quot;http://github.com/zoopcommerce/havok/issues&quot;,&quot;forkLink&quot;:&quot;http://github.com/zoopcommerce/havok/fork&quot;,&quot;_rendered&quot;:true" >    <A class="handle" data-dojo-attach-event="click: onClick" >        <I class="fa fa-bullhorn" ></I>        <DIV class="handle-text" >feedback</DIV>    </A>    <DIV class="feedback-links" >        <TABLE >            <TR >                <TD ><I class="fa fa-bug" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/issues" >Report a bug</A></TD>            </TR>            <TR >                <TD ><I class="fa fa-comment" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/issues" >Make a suggestion</A></TD>            </TR>            <TR >                <TD ><I class="fa fa-code-fork" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/fork" >Fork on Github</A></TD>            </TR>        </TABLE>     </DIV></DIV>
        <MAIN >                <DIV class="container-fluid" >    <DIV class="row-fluid" >        <DIV class="span12 well" >            <DIV class="head" >                <H1 >Services</H1>                <P >A myriad of services to make your life easier. PushState routing, exception handling, config merging, and less styles manager.</P>            </DIV>        </DIV>    </DIV>    <DIV class="row-fluid" >        <DIV class="span3" >                            <UL data-dojo-attach-point="containerNode" class="nav nav-list well" id="serverParsed_6_0" dir="ltr" widgetId="serverParsed_6_0" data-dojo-type="docs/SideNav" data-dojo-props="&quot;_rendered&quot;:true" ><LI data-havok-handler-id="0" data-havok-spy-target="ready" ><A role="navitem" href="#ready" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Ready</A></LI><LI data-havok-handler-id="1" data-havok-spy-target="router" ><A role="navitem" href="#router" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Router</A></LI><LI data-havok-handler-id="2" data-havok-spy-target="config-merger" ><A role="navitem" href="#config-merger" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Config Merger</A></LI><LI data-havok-handler-id="3" data-havok-spy-target="parser" ><A role="navitem" href="#parser" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Parser</A></LI><LI data-havok-handler-id="4" data-havok-spy-target="server-side-parsing" ><A role="navitem" href="#server-side-parsing" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Server Side Parsing</A></LI><LI data-havok-handler-id="5" data-havok-spy-target="exception-handler" ><A role="navitem" href="#exception-handler" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Exception Handler</A></LI><LI data-havok-handler-id="6" data-havok-spy-target="less" ><A role="navitem" href="#less" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Less</A></LI><LI data-havok-handler-id="7" data-havok-spy-target="utils" ><A role="navitem" href="#utils" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Utils</A></LI></UL>                    </DIV>        <DIV class="span9" id="mainContent" >                <SECTION id="ready" title="Ready" ><DIV class="well" ><H1 >Ready</H1>
<P class="lead" >Super simple bootstrapping for havok.</P>
<P >When configuring vanilla dojo (without any havok code at all) the <CODE >deps</CODE> key of <CODE >dojoConfig</CODE> may contain an array of module name that will be loaded immediately.</P>
<P >If <CODE >havok/ready!</CODE> is part of the <CODE >deps</CODE> key, then the havok config merger will be used to merge all config files, and any extra modules added to the <CODE >deps</CODE> key will also be loaded.</P>
<P >For example, if you have your own custom config file named <CODE >mylib/config</CODE>:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="com" >// module:</SPAN></LI><LI class="L3" ><SPAN class="com" >    //		mylib/config</SPAN></LI><LI class="L4" ><SPAN class="com" >Â </SPAN></LI><LI class="L5" ><SPAN class="com" >    return {</SPAN></LI><LI class="L6" ><SPAN class="com" >        deps: [</SPAN></LI><LI class="L7" ><SPAN class="com" >            'mylib/MyModule',</SPAN></LI><LI class="L8" ><SPAN class="com" >            'mylib/plugin!'</SPAN></LI><LI class="L9" ><SPAN class="com" >        ]</SPAN></LI><LI class="L0" ><SPAN class="com" >    }</SPAN></LI><LI class="L1" ><SPAN class="com" >});</SPAN></LI></OL></PRE>
<P >Then if you configure <CODE >dojoConfig</CODE> like this:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;script</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >type</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"text/javascript"</SPAN><SPAN class="tag" >&gt;</SPAN></LI><LI class="L1" ><SPAN class="pln" >	dojoConfig </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >		isDebug</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >		async</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >		deps</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'havok/ready!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L5" ><SPAN class="pln" >        merge</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'mylib/config'</SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L6" ><SPAN class="pln" >	</SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="tag" >&lt;/script&gt;</SPAN></LI><LI class="L8" ><SPAN class="tag" >&lt;script</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >src</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"path/to/dojo/dojo.js"</SPAN><SPAN class="tag" >&gt;&lt;/script&gt;</SPAN></LI></OL></PRE>
<P >When dojo loads, then <CODE >mylib/MyModule</CODE> will also be loaded, and <CODE >mylib/plugin!</CODE> will be executed.</P>
<H2 >Default Config (recommended)</H2>
<P >If you configure <CODE >dojoConfig</CODE> with the default <CODE >havok/config</CODE> like this:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;script</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >type</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"text/javascript"</SPAN><SPAN class="tag" >&gt;</SPAN></LI><LI class="L1" ><SPAN class="pln" >	dojoConfig </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >		isDebug</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >		async</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >		deps</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'havok/ready!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L5" ><SPAN class="pln" >        merge</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'havok/config'</SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L6" ><SPAN class="pln" >	</SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="tag" >&lt;/script&gt;</SPAN></LI><LI class="L8" ><SPAN class="tag" >&lt;script</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >src</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"path/to/dojo/dojo.js"</SPAN><SPAN class="tag" >&gt;&lt;/script&gt;</SPAN></LI></OL></PRE>
<P >Then the following services will be loaded and started for you:</P>
<UL >    <LI >Havok router will be loaded and started</LI>    <LI >Less loading will be enabled</LI>    <LI >Havok parser will be loaded and the document body parsed</LI></UL></DIV></SECTION>    <SECTION id="router" title="Router" ><DIV class="well" ><H1 >Router</H1>
<P class="lead" >Dynamically manage page state with the havok router.</P>
<P >The router lets you manage the browser location for simple dynamic page loading, without having to use # hacks.</P>
<H2 >Example</H2>
<P >These docs pages use the router. The first page you load will deliver a full html page. Any links you click after that will only load new content. It will not reload the top menu footer, css, or js. Moreover, if you go back to a page you have already visited, it will load very quickly because the havok documentation controller caches previously loaded content. And, all this is done with static pages, no logic on the server at all!</P>
<P >Try it out. Click on 'Getting Started' in the site, menu, and then click 'Services' to get back here.</P>
<H2 >How it works</H2>
<P >Once a router is started, it will listen to every click event that bubbles up to <CODE >document.body</CODE>. If the click event is on a link (<CODE >A</CODE> tag) then it will be processed by the router.</P>
<P >The router will attempt to match the <CODE >href</CODE> property of the link with one of it's configured routes. If a match is found, the controller on the configured route is called. If a match is not found, the click event is allowed to continue bubbling.</P>
<H2 >Router Configuration</H2>
<P >The router is configured through a <CODE >havok/di/di</CODE> instance. See the <A href="\di.html" >DI</A> docs for more about di.</P>
<P >The router can be configured with an array of routes. The routes will be evaluated in reverse order (fifo). The first matching route will be used.</P>
<H3 >Example</H3>
<P >A router config:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >di</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/router/router'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="kwd" >params</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            routes</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L5" ><SPAN class="pln" >                    regex</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >/index.html/</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L6" ><SPAN class="pln" >                    controller</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/index/controller'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L7" ><SPAN class="pln" >                    defaultMethod</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'home'</SPAN></LI><LI class="L8" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L9" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L0" ><SPAN class="pln" >                    regex</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >/login/</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L1" ><SPAN class="pln" >                    controller</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/login/controller'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >                    defaultMethod</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'login'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >                    methods</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >                        </SPAN><SPAN class="pun" >{</SPAN><SPAN class="str" >'logout'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'logout'</SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L5" ><SPAN class="pln" >                    </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L6" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L7" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L8" ><SPAN class="pln" >                    regex</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >/albums/</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L9" ><SPAN class="pln" >                    controller</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/albums/controller'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L0" ><SPAN class="pln" >                    defaultMethod</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'list'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L1" ><SPAN class="pln" >                    methods</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >                        </SPAN><SPAN class="str" >'new'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'create'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >                        </SPAN><SPAN class="str" >'update'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'update'</SPAN></LI><LI class="L4" ><SPAN class="pln" >                    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L5" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L7" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L8" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L9" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >The above router config will call the methods in the following way:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >index</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >html </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myIndexController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >home</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L1" ><SPAN class="pln" >user </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myLoginController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >user</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L2" ><SPAN class="pln" >user</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >login </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myLoginController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >login</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L3" ><SPAN class="pln" >user</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >logout </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myLoginController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >logout</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L4" ><SPAN class="pln" >albums </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >list</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L5" ><SPAN class="pln" >albums</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >list </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >list</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L6" ><SPAN class="pln" >albums</SPAN><SPAN class="pun" >/</SPAN><SPAN class="kwd" >new</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="kwd" >new</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L7" ><SPAN class="pln" >albums</SPAN><SPAN class="pun" >/</SPAN><SPAN class="kwd" >new</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >newAlbumName </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >list</SPAN><SPAN class="pun" >(</SPAN><SPAN class="str" >'newAlbumName'</SPAN><SPAN class="pun" >)</SPAN></LI><LI class="L8" ><SPAN class="pln" >albums</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >update </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >update</SPAN><SPAN class="pun" >()</SPAN></LI><LI class="L9" ><SPAN class="pln" >albums</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >update</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >oldAlbumName </SPAN><SPAN class="pun" >-&gt;</SPAN><SPAN class="pln" > myAlbumController</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >list</SPAN><SPAN class="pun" >(</SPAN><SPAN class="str" >'oldAlbumName'</SPAN><SPAN class="pun" >)</SPAN></LI></OL></PRE>
<H2 >Starting the router</H2>
<P >The router can be started like this:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/get!havok/router/router'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >router</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    router</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >startup</SPAN><SPAN class="pun" >();</SPAN></LI><LI class="L3" ><SPAN class="pun" >});</SPAN></LI></OL></PRE>
<P >Alternately, the router can be started with the AMD plugin:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/router/started!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//do something</SPAN></LI><LI class="L3" ><SPAN class="com" >});</SPAN></LI></OL></PRE>
<P >By default `havok/router/started!` is registered with the <A href="#ready" >havok/ready!</A> service, which means the router can also be started by adding <CODE >deps: ['havok/ready!']</CODE> to your dojo config.</P>
<P >Note: if you are using the router, it is recommended you start it up when the page first loads.</P>
<H2 >Base Url</H2>
<P >Router routes are evaluated relative to the Base Url. The Base Url may be set explicily, eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >di</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/router/router'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="kwd" >params</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            baseUrl</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/site'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >...</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >Alternately the Base Url can be determined automatcially when the router is first started.</P>
<P >You can retrieve the baseUrl in code using the baseUrl AMD plugin:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/router/baseUrl!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >baseUrl</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//do something</SPAN></LI><LI class="L3" ><SPAN class="com" >});</SPAN></LI></OL></PRE>
<H2 >Arguments</H2>
<P >Arguments can be passed to a controller method through the route. Routes take the following form:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;controllerRegexMatch&gt;</SPAN><SPAN class="pln" >/</SPAN><SPAN class="tag" >&lt;method&gt;</SPAN><SPAN class="pln" >/</SPAN><SPAN class="tag" >&lt;arg1&gt;</SPAN><SPAN class="pln" >/</SPAN><SPAN class="tag" >&lt;arg2&gt;</SPAN><SPAN class="pln" >/</SPAN><SPAN class="tag" >&lt;arg3&gt;</SPAN></LI></OL></PRE>
<P >For example, this config and controller could be used to add numbers together:</P>
<P >The config:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >di</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/router/router'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="kwd" >params</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            routes</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L5" ><SPAN class="pln" >                    regex</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >/math/</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L6" ><SPAN class="pln" >                    controller</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/math'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L7" ><SPAN class="pln" >                    methods</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L8" ><SPAN class="pln" >                        </SPAN><SPAN class="str" >'add'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'add'</SPAN></LI><LI class="L9" ><SPAN class="pln" >                    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L0" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L1" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L4" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >The controller:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'dojo/_base/declare'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >declare</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >return</SPAN><SPAN class="pln" > declare</SPAN><SPAN class="pun" >([],</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >        add</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >a</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > b</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L4" ><SPAN class="pln" >            console</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >debug</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >a </SPAN><SPAN class="pun" >+</SPAN><SPAN class="pln" > b</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >)</SPAN></LI><LI class="L7" ><SPAN class="pun" >})</SPAN></LI></OL></PRE>
<P >The markup:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;a</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >href</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"math/add/1/6"</SPAN><SPAN class="tag" >&gt;</SPAN><SPAN class="pln" >Add 1 and 6</SPAN><SPAN class="tag" >&lt;/a&gt;</SPAN></LI></OL></PRE>
<P >If the link were clicked, the number 7 would be printed in the console.</P>
<H2 >Exit methods</H2>
<P >Exit methods can be defined for controllers. They are methods which will be called when a route is being left. Eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >di</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/router/router'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="kwd" >params</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            routes</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L5" ><SPAN class="pln" >                    regex</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >/math/</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L6" ><SPAN class="pln" >                    controller</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'my/math'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L7" ><SPAN class="pln" >                    defaultMethod</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L8" ><SPAN class="pln" >                        enter</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'add'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L9" ><SPAN class="pln" >                        </SPAN><SPAN class="kwd" >exit</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'cleanup'</SPAN></LI><LI class="L0" ><SPAN class="pln" >                    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L1" ><SPAN class="pln" >                    methods</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >                        </SPAN><SPAN class="str" >'subtract'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >                            enter</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'subtract'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >                            </SPAN><SPAN class="kwd" >exit</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'anotherMethod'</SPAN></LI><LI class="L5" ><SPAN class="pln" >                        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >                    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="pln" >                </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L8" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L9" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L0" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L1" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<H2 >Scripting a page change</H2><P >The router can be triggered in code using the <CODE >go</CODE> function:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/router/started!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >router</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    router</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >go</SPAN><SPAN class="pun" >(</SPAN><SPAN class="str" >'my/route'</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L3" ><SPAN class="pun" >});</SPAN></LI></OL></PRE>
<H2 >Forward and Back</H2>
<P >The router can go forward and back in history by passing an integer to <CODE >go</CODE>. Eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/router/started!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L1" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >router</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L2" ><SPAN class="pln" >    router</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >go</SPAN><SPAN class="pun" >(-</SPAN><SPAN class="lit" >1</SPAN><SPAN class="pun" >);</SPAN><SPAN class="pln" > </SPAN><SPAN class="com" >//go back one</SPAN></LI><LI class="L3" ><SPAN class="com" >    router.go(-3); //go back three</SPAN></LI><LI class="L4" ><SPAN class="com" >    router.go(1); //go forward one</SPAN></LI><LI class="L5" ><SPAN class="com" >});</SPAN></LI></OL></PRE>
<H2 >See also</H2>
<P >Api documentation:</P><UL >    <LI ><A href="/api/havok/router/router.html" >havok/router/router</A></LI>    <LI ><A href="/api/havok/router/started.html" >havok/router/started</A></LI>    <LI ><A href="/api/havok/router/baseUrl.html" >havok/router/baseUrl</A></LI></UL></DIV></SECTION>    <SECTION id="config-merger" title="Config Merger" ><DIV class="well" ><H1 >Config Merger</H1>
<P class="lead" >Create a merged dojo config object from many different modules.</P>
<P >When you require <A href="/api/dojo/_base/config.html" >dojo/_base/config</A> you get back the dojo configuration object. Modules requiring configuration often use their own extensions to this object. Some havok modules, notably <A href="/api/havok/di/Di.html" >havok/di/Di</A> and <A href="/api/havok/less.html" >havok/less</A> use this pattern.</P>
<P >The modules in the <CODE >havok/config</CODE> namespace allow you to build up the config object from multiple sources, and allows one config to be overridden by another - particularly useful for development or testing environments.</P>
<P >In your dojoConfig object, use the <CODE >merge</CODE> key to specify the config modules to be merged in. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >dojoConfig </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    isDebug</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >    popup</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >    async</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >    merge</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'MyNamespace/Config1'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L6" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'MyNamespace/Config2'</SPAN></LI><LI class="L7" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L8" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<H2 >Merging</H2>
<P >The config modules can be loaded and merged using the <CODE >merge</CODE> function of <A href="/api/havok/config/manager.html" >havok/config/manager</A>.
</P><P >The `merge()` function will return a <A href="/api/dojo/Deferred" >dojo/Deferred</A> object which will resolve when the config merge is complete.</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/config/manager'</SPAN><SPAN class="pun" >],</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >configManager</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    configManager</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >merge</SPAN><SPAN class="pun" >().</SPAN><SPAN class="kwd" >then</SPAN><SPAN class="pun" >(</SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="com" >//config merge complete</SPAN></LI><LI class="L3" ><SPAN class="com" >    })</SPAN></LI><LI class="L4" ><SPAN class="com" >}</SPAN></LI></OL></PRE>

<H2 >The ready! plugin</H2>
<P >Alternatively, config modules can be merged using the <A href="/api/havok/config/ready" >havok/config/ready!</A> AMD plugin. The plugin will not return until configs are merged.</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/config/ready!'</SPAN><SPAN class="pun" >],</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//Do something</SPAN></LI><LI class="L2" ><SPAN class="com" >}</SPAN></LI></OL></PRE>
<H2 >Builds</H2>
<P >If you use the havok <A href="/builds.html" >build tool</A>, it will merge all configs during the build, so that config merging does not happen in production (highly recommended for improved performance).</P>
<H2 >See also</H2>
<P >Api documentation:</P><UL >    <LI ><A href="/api/havok/config/manager.html" >havok/config/manager</A></LI>    <LI ><A href="/api/havok/router/ready.html" >havok/config/ready</A></LI></UL></DIV></SECTION>    <SECTION id="parser" title="Parser" ><DIV class="well" ><H1 >Parser</H1>
<P class="lead" >Brief and expressive syntax to add widgets to your pages</P>
<P >The havok parser will transform static markup into dynamic widgets. The havok parser was written with the following aims:</P>
<UL >    <LI >Lighter and smaller than the default dojo parser.</LI>    <LI >Keep support basic compatability with dojo parser.</LI>    <LI >Allow brief expressive syntax.</LI>    <LI >Optionally support valid html</LI></UL>
<H2 >Use</H2>
<P >To use the parser, load <CODE >havok/parser/parser</CODE> and call <CODE >parse</CODE>. Eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/parser/parser'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >parser</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    parser</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >parse</SPAN><SPAN class="pun" >();</SPAN></LI><LI class="L2" ><SPAN class="pun" >})</SPAN></LI></OL></PRE>
<P >By default, the parser will parse the <CODE >document.body</CODE>. To restrict parsing to the children of a particular node, the pass that node to the <CODE >parse</CODE> function:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/parser/parser'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >parser</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    parser</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >parse</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >domNode</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L2" ><SPAN class="pun" >})</SPAN></LI></OL></PRE>
<H2 >complete! plugin</H2>
<P >The <CODE >havok/parser/complete!</CODE> AMD plugin can be used to prevent a script from running until the parser has completed. Eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/parser/complete!'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//do something after parsing complete</SPAN></LI><LI class="L2" ><SPAN class="com" >})</SPAN></LI></OL></PRE>
<H2 >Custom Tags</H2>
<P >The havok parser uses custom tags. The tags are mapped to AMD modules via the parser config. For example, the following config maps the <CODE >w-modal</CODE> tag to the <CODE >havok/widget/Modal</CODE> module. When the parser finds a <CODE >w-modal</CODE> dom node, it will use that dom node to create an instance of <CODE >havok/widget/Modal</CODE>:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >parser</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    tags</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'w-modal'</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'havok/widget/Modal'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L4" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >By convention all havok custom tags which load widgets have a <CODE >w-</CODE> prefix. All havok custom tags with load form widgets have a <CODE >f-</CODE> prefix.</P>
<P >You may add your own custom tags by simply adding to the parser config.</P>
<P >The default parser config includes the following custom tags:</P>
<UL >    <LI ><CODE >f-checkbox</CODE></LI>    <LI ><CODE >f-checkbox-button-group</CODE></LI>    <LI ><CODE >f-color-picker</CODE></LI>    <LI ><CODE >f-credit-card-expiry</CODE></LI>    <LI ><CODE >f-currency</CODE></LI>    <LI ><CODE >f-date</CODE></LI>    <LI ><CODE >f-email</CODE></LI>    <LI ><CODE >f-form</CODE></LI>    <LI ><CODE >f-hex-color</CODE></LI>    <LI ><CODE >f-number</CODE></LI>    <LI ><CODE >f-password</CODE></LI>    <LI ><CODE >f-radio-button-group</CODE></LI>    <LI ><CODE >f-select</CODE></LI>    <LI ><CODE >f-textarea</CODE></LI>    <LI ><CODE >f-textbox</CODE></LI>    <LI ><CODE >f-text-editor</CODE></LI>    <LI ><CODE >f-toggle-button</CODE></LI>    <LI ><CODE >f-typeahead</CODE></LI>    <LI ><CODE >f-validation-group</CODE></LI>    <LI ><CODE >w-accordion</CODE></LI>    <LI ><CODE >w-affix</CODE></LI>    <LI ><CODE >w-alert</CODE></LI>    <LI ><CODE >w-button</CODE></LI>    <LI ><CODE >w-button-group</CODE></LI>    <LI ><CODE >w-color-dropdown</CODE></LI>    <LI ><CODE >w-date-dropdown</CODE></LI>    <LI ><CODE >w-dragable</CODE></LI>    <LI ><CODE >w-dropdown</CODE></LI>    <LI ><CODE >w-dropdown-container</CODE></LI>    <LI ><CODE >w-dropdown-submenu</CODE></LI>    <LI ><CODE >w-dropdown-toggle</CODE></LI>    <LI ><CODE >w-carousel</CODE></LI>    <LI ><CODE >w-checkbox-button-group</CODE></LI>    <LI ><CODE >w-modal</CODE></LI>    <LI ><CODE >w-movable</CODE></LI>    <LI ><CODE >w-nav-bar</CODE></LI>    <LI ><CODE >w-nav-bar-links</CODE></LI>    <LI ><CODE >w-nav-list</CODE></LI>    <LI ><CODE >w-nav-pill</CODE></LI>    <LI ><CODE >w-nav-tab</CODE></LI>    <LI ><CODE >w-overlay</CODE></LI>    <LI ><CODE >w-radio-button-group</CODE></LI>    <LI ><CODE >w-tab-container</CODE></LI>    <LI ><CODE >w-text-editor</CODE></LI>    <LI ><CODE >w-text-toolbar</CODE></LI>    <LI ><CODE >w-tree</CODE></LI>    <LI ><CODE >w-toggle-button</CODE></LI>    <LI ><CODE >w-tooltip</CODE></LI></UL>
<H2 >Custom Attributes</H2>
<P >Any attributes defined in the markup will be passed in the <CODE >params</CODE> object to the widget constructor. For example, the following will set the <CODE >placeholder</CODE> property of the textbox widget:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;f-textbox</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >placeholder</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"Enter your name"</SPAN><SPAN class="tag" >&gt;&lt;/f-textbox&gt;</SPAN></LI></OL></PRE>
<P >The parser will attempt to cast attributes into the correct type:</P>
<UL >    <LI ><STRONG >Number:</STRONG> if the widget property matching with the attribute is a number, the string attribute will be cast to a number.</LI>    <LI ><STRONG >Boolean:</STRONG> if the widget property matching with the attribute is boolean, the string attribute will be cast to boolean.</LI>    <LI ><STRONG >Object:</STRONG> if the widget property matching with the attribute is an object, the string attribute will parsed using <CODE >JSON.parse</CODE>.</LI></UL>
<H2 >Mixins</H2>
<P >Mixins can be registered with the parser using the config, much the same as tags. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >parser</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    mixins</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'store'</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'havok/widget/_StoreMixin'</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L4" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >If a widget has an attribute defined by the parser mixins config, then the AMD module is mixed into the widget instance.</P>
<P >For example, this will create a <CODE >havok/widget/NavPill</CODE> widget with <CODE >havok/widget/_StoreMixin</CODE> also mixed in.:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;w-nav-pill</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >store</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"navStore1"</SPAN><SPAN class="tag" >&gt;&lt;/w-nav-pill&gt;</SPAN></LI></OL></PRE>
<H2 >Dojo parser compatibility</H2>
<P >The havok parser will read the following attributes, and process them in the same way as the dojo parser:</P>
<UL >    <LI ><CODE >data-dojo-type</CODE></LI>    <LI ><CODE >data-dojo-mixins</CODE></LI>    <LI ><CODE >data-dojo-props</CODE></LI></UL>
<P >The following two examples will result in exactly the same widget:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;w-nav-pill</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >active</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"home"</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >store</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"navStore1"</SPAN><SPAN class="tag" >&gt;&lt;/w-nav-pill&gt;</SPAN></LI></OL></PRE>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;div</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >data-dojo-type</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"havok/widget/NavPill"</SPAN></LI><LI class="L1" ><SPAN class="pln" >     </SPAN><SPAN class="atn" >data-dojo-mixins</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"havok/widget/_StoreMixin"</SPAN></LI><LI class="L2" ><SPAN class="pln" >     </SPAN><SPAN class="atn" >data-dojo-props</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"</SPAN></LI><LI class="L3" ><SPAN class="atv" >        active: 'home',</SPAN></LI><LI class="L4" ><SPAN class="atv" >        store: 'navStore1'</SPAN></LI><LI class="L5" ><SPAN class="atv" >    "</SPAN></LI><LI class="L6" ><SPAN class="tag" >&gt;&lt;/div&gt;</SPAN></LI></OL></PRE>
<H2 >Valid HTML</H2>
<P >Clearly the havok parser's use of custom tags and custom attributes is not standard HTML. If this is an issue for your application, you have the following options:</P>
<UL >    <LI >Custom tags, as long as the tag name contains a <CODE >-</CODE> are valid in html5, and will not conflict with any future html5 tags. However, these custom tags do cause problems for older browsers like ie8. If you need to work with ie8 you have three options. Firstly you can use <CODE >data-dojo-type</CODE> annotation rather than the custom tags. Secondly you could register the custom tags with ie8 using <CODE >document.createElement('my-custom-tag')</CODE> before any other script is loaded. Thirdly you could use server side parsing to expand the custom tags into standard html before it arrives in the browser.</LI>    <LI >Custom attributes may clash with future html5 attributes and will not pass a html validator. Therefore, any attribute may be prefixed with <CODE >data-</CODE> or <CODE >data-havok-</CODE> and the parser will handle them correctly.</LI></UL></DIV></SECTION>    <SECTION id="server-side-parsing" title="Server Side Parsing" ><DIV class="well" ><H1 >Server Side Parsing (dom-lite)</H1>
<P class="lead" >Parse and render widgets server side for faster page loads</P>
<P >Widgets are a wonderful way to create modular, reusable code, however they may suffer the problem of a 'jumpy' page load. That is, as the page is loaded, widgets replace their unrendered node with fully rendered content. This can cause dramatic changes in page layout during the first moments of viewing a page.</P>
<P >One remedy for this problem is to parse and render the widgets server side, and send the fully rendered widgets to the browser. This is a particularly effective solution of sites with static content.</P>
<P ><A href="http://github.com/superdweebie/dom-lite" >dom-lite</A> is an experimental html dom that runs under node.js. It is small and fast, and will run cross platform. <CODE >dom-lite</CODE> is used to pre-render these documentation pages.</P></DIV></SECTION>    <SECTION id="exception-handler" title="Exception Handler" ><DIV class="well" ><H1 >Exception Handler</H1>
<P class="lead" >Throw, handle, view, and log exceptions.</P>
<P >The exception handler will catch and process all js exceptions. It allows you to define exception severity and render exceptions to the console, a server, or to the user interface.</P>
<H2 >Using</H2>
<P >To turn on the exception handler use the <CODE >havok/exception/started!</CODE>. It is suggested that this be done just after havok has first loaded. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/exception/started!'</SPAN><SPAN class="pun" >],</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//do something</SPAN></LI><LI class="L2" ><SPAN class="com" >})</SPAN></LI></OL></PRE>
<P >By default `havok/exception/started!` is registered with the <A href="#ready" >havok/ready!</A> service, so can be started by adding <CODE >deps: ['havok/ready!']</CODE> to your dojo config.</P>
<H2 >How it works</H2>
<P >The exception handler listens to <CODE >window.onerror</CODE>. Any exceptions that are not handled by application code are caught and handled by the exception handler. Eg:</P><DIV class="bs-docs-example" >    <BUTTON class="btn" onclick="console.debug(obj());" >Create Not Defined Exception</BUTTON></DIV><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;button</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >class</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"btn"</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >onclick</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"</SPAN><SPAN class="pln" >console</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >debug</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >obj</SPAN><SPAN class="pun" >());</SPAN><SPAN class="atv" >"</SPAN><SPAN class="tag" >&gt;</SPAN><SPAN class="pln" >Create Not Defined Exception</SPAN><SPAN class="tag" >&lt;/button&gt;</SPAN></LI></OL></PRE>
<P >Note: Open your console to see the exception rendered there.</P>
<H2 >Severity</H2>
<P >Each exception has a severity. The possible severity codes are:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >NOTICE   </SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L1" ><SPAN class="pln" >WARNING  </SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >ERROR    </SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >3</SPAN></LI></OL></PRE>
<P >The higher the number, the more serious the exception.</P>
<P >By default, all exceptions have a severity of <CODE >ERROR: 3</CODE>.</P>
<H2 >Application Exception</H2>
<P >The severity of an error can be cusomised by throwing an instance of <CODE >havok/exception/Application</CODE>.</P><DIV class="bs-docs-example" >    <SCRIPT >        require(['dojo/on', 'dojo/dom', 'havok/exception/severity', 'havok/exception/Application', 'havok/ready!'],
             function(on, dom, severity, Application){
                  on(dom.byId('exception2'), 'click', function(){
                      throw new Application('Example Exception', {severity: severity.WARNING});
                  })
             }
         )
        </SCRIPT>        <BUTTON class="btn" id="exception2" >Throw warning</BUTTON>    </DIV><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;script&gt;</SPAN></LI><LI class="L1" ><SPAN class="pln" >    require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'dojo/on'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'dojo/dom'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'havok/exception/severity'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'havok/exception/Application'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'havok/ready!'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L2" ><SPAN class="pln" >         </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >on</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > dom</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > severity</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="typ" >Application</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L3" ><SPAN class="pln" >              on</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >dom</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >byId</SPAN><SPAN class="pun" >(</SPAN><SPAN class="str" >'exception2'</SPAN><SPAN class="pun" >),</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'click'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L4" ><SPAN class="pln" >                  </SPAN><SPAN class="kwd" >throw</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >new</SPAN><SPAN class="pln" > </SPAN><SPAN class="typ" >Application</SPAN><SPAN class="pun" >(</SPAN><SPAN class="str" >'Example Exception'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >severity</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > severity</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >WARNING</SPAN><SPAN class="pun" >});</SPAN></LI><LI class="L5" ><SPAN class="pln" >              </SPAN><SPAN class="pun" >})</SPAN></LI><LI class="L6" ><SPAN class="pln" >         </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="pln" >     </SPAN><SPAN class="pun" >)</SPAN></LI><LI class="L8" ><SPAN class="tag" >&lt;/script&gt;</SPAN></LI><LI class="L9" ><SPAN class="tag" >&lt;button</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >class</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"btn"</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >id</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"exception2"</SPAN><SPAN class="tag" >&gt;</SPAN><SPAN class="pln" >Throw warning</SPAN><SPAN class="tag" >&lt;/button&gt;</SPAN></LI></OL></PRE>
<H2 >Custom Exceptions</H2>
<P >To create your own custom exceptions, extend <CODE >havok/exception/Base</CODE>. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'dojo/_base/lang'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'dojo/errors/create'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/exception/Base'</SPAN></LI><LI class="L4" ><SPAN class="pun" >],</SPAN></LI><LI class="L5" ><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN></LI><LI class="L6" ><SPAN class="pln" >    lang</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L7" ><SPAN class="pln" >    create</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L8" ><SPAN class="pln" >    </SPAN><SPAN class="typ" >BaseException</SPAN></LI><LI class="L9" ><SPAN class="pun" >){</SPAN></LI><LI class="L0" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >return</SPAN><SPAN class="pln" > create</SPAN><SPAN class="pun" >(</SPAN></LI><LI class="L1" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"MyCustomException"</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >message</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > options</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L3" ><SPAN class="pln" >            lang</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >mixin</SPAN><SPAN class="pun" >(</SPAN><SPAN class="kwd" >this</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > options</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="typ" >BaseException</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >)</SPAN></LI><LI class="L7" ><SPAN class="pun" >});</SPAN></LI></OL></PRE>
<H2 >Renderers</H2>
<P >The simplest way to configure renderers is through the di container with an array of renderers. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >di</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/exception/handler'</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        gets</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            renderers</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'havok/exception/renderer/Console'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L5" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'my/renderer'</SPAN></LI><LI class="L6" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L7" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L8" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L9" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >Each renderer must have a <CODE >minSeverity</CODE> property and a <CODE >render</CODE> function. The handler checks the <CODE >minSeverity</CODE> property, and if the exception is more severe, the <CODE >render</CODE> function is called.</P>
<H3 >Console Renderer</H3>
<P ><A href="/api/havok/exception/renderer/Console.html" >havok/exception/renderer/Console</A> renders and exception the the console, including extra info like stack trace.</P>
<P >By default the console renderer is registered with the handler and set to render all exceptions.</P>
<H3 >UI Renderer</H3>
<P ><A href="/api/havok/exception/renderer/UI.html" >havok/exception/renderer/UI</A> renders an exception as a modal for the the user to aknowledge. Eg:</P>
<DIV class="bs-docs-example" >    <SCRIPT >        require([
            'dojo/on',
            'dojo/dom',
            'havok/exception/severity',
            'havok/exception/Application',
            'havok/exception/renderer/UI',
            'havok/exception/started!',
            'dojo/domReady!'
        ],
             function(on, dom, severity, Application, UI, handler){
                  var added = false;
                  on(dom.byId('exception3'), 'click', function(){
                      if (!added){
                          added = true;
                          handler.renderers.push(new UI);
                      }
                      throw new Application('Example Exception', {severity: severity.ERROR});
                  })
             }
         )
    </SCRIPT>    <BUTTON class="btn" id="exception3" >UI Render</BUTTON></DIV>
<H3 >Store Renderer</H3>
<P ><A href="/api/havok/exception/renderer/Store.html" >havok/exception/renderer/Store</A> renders an exception to the configured store.</P>
<P >Click 'store render' to create an exception that is rendered to a store. Then click 'show store contents' to see the contents of the store.</P><DIV class="bs-docs-example" >    <SCRIPT >        require([
            'dojo/on',
            'dojo/dom',
            'dojo/json',
            'dojo/when',
            'havok/exception/severity',
            'havok/exception/Application',
            'havok/exception/renderer/Store',
            'havok/exception/started!',
            'dojo/domReady!'
        ],
             function(on, dom, json, when, severity, Application, Store, handler){
                  var added = false,
                      renderer = new Store;
                  renderer.store = {data: []};

                  on(dom.byId('exception4'), 'click', function(){
                      if (!added){
                          added = true;
                          handler.renderers.push(renderer);
                      }
                      throw new Application('Example Exception', {severity: severity.ERROR});
                  });
                  on(dom.byId('store4'), 'click', function(){
                      when(renderer.getStore(), function(store){
                          dom.byId('storeContents').innerHTML = json.stringify(store.data, null, '    ');
                      })
                  })
             }
         )
    </SCRIPT>    <BUTTON class="btn" id="exception4" >Store Render</BUTTON>    <DIV class="well" >        <BUTTON class="btn" id="store4" >Show store contents</BUTTON>        <P >Store items:</P>        <PRE id="storeContents" ></PRE>    </DIV></DIV>
<P >Tip: use a json rest store to send exceptions back to a server for logging.</P></DIV></SECTION>    <SECTION id="less" title="Less" ><DIV class="well" ><H1 >Less</H1>
<P class="lead" >Bundle less with widgets for better OOP design</P>
<P >Use the <CODE >havok/less!</CODE>. AMD plugin to define and load the less files you need.</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/less!my/less/file.less'</SPAN></LI><LI class="L2" ><SPAN class="pun" >],</SPAN></LI><LI class="L3" ><SPAN class="kwd" >function</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >(){</SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//my module code</SPAN></LI><LI class="L5" ><SPAN class="com" >});</SPAN></LI></OL></PRE>
<H2 >Config</H2>
<P >The less plugin takes an array of less files. The files are loaded and parsed client side, and the resulting css is inserted into the page. A rank can be used to control the order they are added to the page.</P>
<P >Less files can be added to the plugin in two ways. Firstly through <CODE >dojoConfig</CODE>. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >dojoConfig </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >...</SPAN></LI><LI class="L2" ><SPAN class="pln" >    less</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"my/less/mixins.less"</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >defs</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >true</SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"my/less/file.less"</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >rank</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"another/less/file.less"</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >rank</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="pun" >}</SPAN></LI></OL></PRE><P >Secondly, less files can be added through the plugin. Less loaded this way will get a rank of 2 by default. eg:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/less!my/less/file.less</SPAN></LI><LI class="L2" ><SPAN class="str" >],</SPAN></LI><LI class="L3" ><SPAN class="str" >function (){</SPAN></LI><LI class="L4" ><SPAN class="str" >    //my module code</SPAN></LI><LI class="L5" ><SPAN class="str" >});</SPAN></LI></OL></PRE>
<P >To set the <CODE >defs</CODE> or <CODE >rank</CODE> when using the plugin, pass a json object:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >define</SPAN><SPAN class="pun" >([</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="str" >'havok/less!my/less/file.less!{rank: 4}</SPAN></LI><LI class="L2" ><SPAN class="str" >],</SPAN></LI><LI class="L3" ><SPAN class="str" >function (){</SPAN></LI><LI class="L4" ><SPAN class="str" >    //my module code</SPAN></LI><LI class="L5" ><SPAN class="str" >});</SPAN></LI></OL></PRE>

<H2 >Defs and Rank</H2>
<P >The <CODE >defs</CODE> and <CODE >rank</CODE> control the order of less compilation an injection into the page. Any less marked with <CODE >defs: true</CODE> is considered to contain less definitions. Use this for less files that define variables and mixins.</P>
<P >Several <CODE >style</CODE> tags will be appended to the <CODE >body</CODE> of the page where compiled less will be injected. Less marked with <CODE >rank: 0</CODE> will be added to the first <CODE >style</CODE> tag. Less marked with <CODE >rank: 1</CODE> will be added to the second <CODE >style</CODE> tag, and so on.</P>
<H2 >Builds</H2><P >Dynamically requiring less and compiling it client side is great for development - no intermediate steps, just edit your code and reload the browser. However, it is slow and inefficent for production. It is strongly recommended that you use the havok build tools to compile all less to css before deployment.</P>
<P >If you use the build tools, the following files will be created for each build layer:</P>
<UL >    <LI >myLayer.less</LI>    <LI >myLayer.uncompressed.css</LI>    <LI >myLayer.css</LI></UL>
<P >When deploying an a layer, link the <CODE >myLayer.css</CODE> in your document body to completely bypass client side less compilation and greatly speed up load times.</P></DIV></SECTION>    <SECTION id="utils" title="Utils" ><DIV class="well" ><H1 >Utils</H1>
<P class="lead" >Small helper functions</P>
<H2 >array</H2>
<P ><CODE >havok/array</CODE> extends <CODE >dojo/_base/array</CODE> to add one new function: <CODE >substract(a, b)</CODE>. Array subtract will remove any elemnts in both a and b from a. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/array'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >array</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > removeFrom </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="lit" >1</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >3</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >4</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >5</SPAN><SPAN class="pun" >];</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > removeValues </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="lit" >2</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >3</SPAN><SPAN class="pun" >];</SPAN></LI><LI class="L3" ><SPAN class="pln" >Â </SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > result </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > array</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >subtract</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >removeFrom</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > removeValues</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L5" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//result is [1, 4, 5]</SPAN></LI><LI class="L6" ><SPAN class="com" >})</SPAN></LI></OL></PRE>
<H2 >is</H2>
<P ><CODE >havok/is</CODE> constains comparison functions that will return a boolean value.</P>
<TABLE class="table table-bordered table-striped" >    <THEAD >        <TR >            <TH style="width: 100px;" >function</TH>            <TH >description</TH>        </TR>    </THEAD>    <TBODY >        <TR >            <TD >isInt(value)</TD>            <TD >Is the value an integer?</TD>        </TR>        <TR >            <TD >isFloat(value)</TD>            <TD >Is the value a floating point number?</TD>        </TR>        <TR >            <TD >isStatic(value)</TD>            <TD >Does the value contain any functions at all?</TD>        </TR>    </TBODY></TABLE>
<H2 >lang</H2>
<P ><CODE >havok/lang</CODE> extends <CODE >dojo/_base/lang</CODE> with one extra function. <CODE >mixinDeep</CODE> will mix objects together deep into their object tree.</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >require</SPAN><SPAN class="pun" >([</SPAN><SPAN class="str" >'havok/lang'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="kwd" >function</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >lang</SPAN><SPAN class="pun" >){</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > dest </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        item</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L3" ><SPAN class="pln" >            a</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >            b</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >bb</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >};</SPAN></LI><LI class="L7" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > source </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L8" ><SPAN class="pln" >        item</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L9" ><SPAN class="pln" >            a</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >0</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L0" ><SPAN class="pln" >            b</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN><SPAN class="pln" >dd</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >5</SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L1" ><SPAN class="pln" >            c</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >3</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L4" ><SPAN class="pln" >Â </SPAN></LI><LI class="L5" ><SPAN class="pln" >    </SPAN><SPAN class="kwd" >var</SPAN><SPAN class="pln" > result </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > lang</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >mixinDeep</SPAN><SPAN class="pun" >(</SPAN><SPAN class="pln" >dest</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > source</SPAN><SPAN class="pun" >);</SPAN></LI><LI class="L6" ><SPAN class="pln" >Â </SPAN></LI><LI class="L7" ><SPAN class="pln" >    </SPAN><SPAN class="com" >//result = {</SPAN></LI><LI class="L8" ><SPAN class="com" >    //    item: {</SPAN></LI><LI class="L9" ><SPAN class="com" >    //        a: 0,</SPAN></LI><LI class="L0" ><SPAN class="com" >    //        b: {bb: 1, dd:5},</SPAN></LI><LI class="L1" ><SPAN class="com" >    //        c: 3</SPAN></LI><LI class="L2" ><SPAN class="com" >    //    }</SPAN></LI><LI class="L3" ><SPAN class="com" >    //}</SPAN></LI><LI class="L4" ><SPAN class="com" >})</SPAN></LI></OL></PRE>
<H2 >string</H2>
<P ><CODE >havok/string</CODE> extends <CODE >dojo/string</CODE> with two extra functions:</P>
<TABLE class="table table-bordered table-striped" >    <THEAD >        <TR >            <TH style="width: 100px;" >function</TH>            <TH >description</TH>        </TR>    </THEAD>    <TBODY >        <TR >            <TD >ucFirst(value)</TD>            <TD >Will make the first character in a string uppercase</TD>        </TR>        <TR >            <TD >camelCase(value)</TD>            <TD >Will transform a <CODE >-</CODE> separated string to camel case.</TD>        </TR>    </TBODY></TABLE>
<P >Api documentation:</P><UL >    <LI ><A href="/api/havok/is" >havok/is</A></LI>    <LI ><A href="/api/havok/array" >havok/array</A></LI>    <LI ><A href="/api/havok/string" >havok/string</A></LI>    <LI ><A href="/api/havok/lang" >havok/lang</A></LI></UL></DIV></SECTION>        </DIV>    </DIV></DIV>        </MAIN>
        <SPAN class="" id="serverParsed_7_0" dir="ltr" widgetId="serverParsed_7_0" data-dojo-type="../widget/Overlay" data-dojo-props="&quot;target&quot;:&quot;docBody&quot;,&quot;_rendered&quot;:true" >    <SPAN class="hide overlay  main-overlay" data-dojo-attach-point="overlay" >        <SPAN class="overlay-backdrop" data-dojo-attach-point="backdrop" ></SPAN>        <SPAN class="overlay-content" data-dojo-attach-point="containerNode" >            <DIV ><SPAN class="icon-spinner icon-spin" ></SPAN></DIV><P >Loading more havok...</P>        </SPAN>    </SPAN></SPAN>
        <FOOTER class="footer" >            <DIV class="container" >                <P >Created by <A href="http://github.com/superdweebie" >@superdweebie</A> and <A href="http://github.com/crimsonronin" >@crimsonronin</A>.</P>                <P >Code licensed under MIT.</P>                <P >Built on the shoulders of giants <A href="http://twitter.github.io/bootstrap" >bootstrap</A> and <A href="http://dojotoolkit.org" >dojo</A>.</P>                <UL class="footer-links" >                    <LI ><A href="http://zoopcommerce.com" >Zoop</A></LI>                    <LI class="muted" >Â·</LI>                    <LI ><A href="https://github.com/zoopcommerce/havok/issues?state=open" >Issues</A></LI>                    <LI class="muted" >Â·</LI>                    <LI ><A href="https://github.com/zoopcommerce/havok/blob/master/CHANGELOG.md" >Changelog</A></LI>                </UL>            </DIV>        </FOOTER>    </BODY></html>