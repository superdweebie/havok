<!DOCTYPE html><html lang="en" ><HEAD >        <META charset="utf-8" ></META>        <TITLE >Havok by Zoop</TITLE>        <META http-equiv="X-UA-Compatible" content="IE=Edge" ></META>        <META name="viewport" content="width=device-width, initial-scale=1.0" ></META>        <META name="description" content="" ></META>        <META name="author" content="Tim Roediger" ></META>
        <LINK href="/favicon.png" type="image/png" rel="shortcut icon" ></LINK>        <LINK href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,300,700" rel="stylesheet" type="text/css" ></LINK>
        <LINK id="themeSwtichLink" rel="stylesheet" href="/docs/zoop.css" ></LINK>        <SCRIPT src="/docs/docs.js" ></SCRIPT>                </HEAD><BODY id="docBody" >
        <DIV class="navbar top-nav navbar-fixed-top navbar-inverse" id="serverParsed_1_0" dir="ltr" widgetId="serverParsed_1_0" data-dojo-type="../widget/NavBar" data-dojo-props="&quot;_rendered&quot;:true" ><DIV class="navbar-inner" data-dojo-attach-point="containerNode" >    <A class="top-nav-toggle" data-havok-nav-bar-toggle="" >        <SPAN class="icon-bar" ></SPAN>        <SPAN class="icon-bar" ></SPAN>        <SPAN class="icon-bar" ></SPAN>    </A>    <A class="brand pull-left" href="./index.html" ><SVG xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 569 200" version="1.1" ><PATH style="fill:#32bfbd" d="m 157,169 c -3,0 -5,1 -7,1 0,0 0,0 0,0 -1,1 -2,2 -4,3 -1,1 -2,3 -2,4 -1,2 -2,5 -2,8 0,4 2,8 4,11 3,2 7,4 11,4 4,0 8,-2 10,-4 3,-3 4,-7 4,-11 0,-5 -1,-9 -4,-12 -2,-2 -6,-4 -10,-4 z m 0,7 c 2,0 3,1 4,2 1,2 2,4 2,6 0,3 -1,5 -2,7 -1,1 -2,2 -4,2 -2,0 -3,-1 -5,-2 -1,-2 -1,-4 -1,-6 0,-3 0,-5 1,-7 1,-1 3,-2 5,-2 z" /><PATH style="fill:#ce0000" d="M 31.6,-0.13 C 14.1,-0.13 0,14 0,31.5 L 0,124 c 0,17 14.1,31 31.6,31 l 467.4,0 c 0,0 1,0 2,0 l 68,40 -39,-74 0,-89.5 C 530,14 516,-0.13 499,-0.13 l -467.4,0 z" /><PATH style="fill:#ffffff" d="M 352 24.7 C 344 24.7 336 26 330 28.8 C 325 30.8 320 34 316 38.2 C 312 42.3 309 47.1 307 52.3 C 304 59.5 302 68.1 302 78.1 C 302 93.8 307 107 316 116 C 325 126 337 130 352 130 C 367 130 379 126 388 116 C 397 107 402 93.6 402 77.7 C 402 61.6 397 48.4 388 38.9 C 379 29.5 367 24.7 352 24.7 z M 28.8 26.3 L 28.8 129 L 56.4 129 L 56.4 87.8 L 84.9 87.8 L 84.9 129 L 112 129 L 112 26.3 L 84.9 26.3 L 84.9 63.3 L 56.4 63.3 L 56.4 26.3 L 28.8 26.3 z M 112 129 L 141 129 C 144 122 147 115 149 107 L 181 107 C 183 115 186 122 189 129 L 219 129 C 204 92.8 190 57.4 178 26.3 L 152 26.3 C 138 61.9 124 98 112 129 z M 207 26.3 C 220 62.4 232 98 244 129 L 270 129 C 283 93.2 296 56.8 307 26.3 L 277 26.3 C 271 46.4 264 66.5 257 86.5 C 250 66.5 244 46.4 237 26.3 L 207 26.3 z M 408 26.3 L 408 129 L 436 129 L 436 98 L 446 87.5 C 454 101 462 115 470 129 L 505 129 C 492 108 479 88.1 465 67.7 C 479 53.9 492 40.1 505 26.3 L 468 26.3 C 457 37.9 446 49.6 436 61.2 L 436 26.3 L 408 26.3 z M 352 49.5 C 359 49.5 364 51.6 368 56 C 371 60.3 374 67.1 374 77.2 C 374 87.5 371 94.5 367 99 C 363 103 359 106 352 106 C 346 106 341 103 337 99 C 333 94.3 330 87.4 330 77.5 C 330 67.3 333 60.4 336 56.1 C 340 51.7 345 49.5 352 49.5 z M 165 65 L 171 83 L 158 83 L 165 65 z " /><PATH style="fill:#e7e7e7" d="m 127,169 c -2,0 -4,1 -6,1 l 0,0 c -2,1 -3,2 -4,3 -1,1 -2,3 -3,4 -1,2 -1,5 -1,8 0,4 1,8 4,11 2,2 6,4 10,4 4,0 8,-1 11,-4 2,-3 4,-7 4,-11 0,-5 -2,-9 -4,-12 -3,-2 -7,-4 -11,-4 z m -99.5,1 c 0,10 0,21 0,29 3.5,0 7,0 10.5,0 3.6,0 5.7,0 6.8,0 1.6,0 3,0 4.2,-1 1.2,-1 2.1,-2 2.8,-4 0.7,-1 1,-2 1,-4 0,-2 -0.5,-3 -1.6,-5 -0.6,0 -1.4,-1 -2.3,-1 0.5,-1 1,-1 1.3,-2 0.8,-1 1.3,-3 1.3,-4 0,-2 -0.4,-3 -1.1,-4 -0.6,-1 -1.4,-2 -2.4,-3 -1,0 -2.1,-1 -3.3,-1 -1.2,0 -2.9,0 -5,0 -4.1,0 -8.1,0 -12.2,0 z m 23.6,0 c 3.6,6 7.3,11 11,17 0,4 0,8 0,12 2.6,0 5.3,0 7.9,0 0,-4 0,-8 0,-12 3.7,-6 7.3,-11 11,-17 -3.1,0 -6.2,0 -9.3,0 -1.8,3 -3.7,6 -5.5,9 -1.9,-3 -3.8,-6 -5.7,-9 -3.1,0 -6.3,0 -9.4,0 z m 38.9,0 c 0,2 0,4 0,7 3.8,0 7.6,0 11,0 -4,5 -8.3,10 -12.6,16 0,2 0,4 0,6 8.2,0 16.6,0 24.6,0 0,-2 0,-4 0,-7 -5,0 -9,0 -14.1,0 4.1,-5 9.1,-11 13.1,-16 0,-2 0,-4 0,-6 -7,0 -14.5,0 -22,0 z m 83,0 c 0,10 0,21 0,29 3,0 5,0 8,0 0,-3 0,-6 0,-10 l 2,0 c 3,0 5,0 6,0 1,-1 2,-1 3,-2 2,-1 2,-2 3,-3 1,-1 1,-3 1,-5 0,-2 0,-4 -2,-6 -1,-1 -2,-2 -4,-3 0,0 0,0 0,0 -2,0 -4,0 -7,0 -3,0 -7,0 -10,0 z m -46,6 c 2,0 4,1 5,2 1,2 1,4 1,6 0,3 0,5 -1,7 -1,1 -3,2 -5,2 -2,0 -3,-1 -4,-2 -1,-2 -2,-4 -2,-6 0,-3 1,-5 2,-7 1,-1 2,-2 4,-2 z m -91.5,1 1.9,0 c 2.6,0 4.2,0 4.5,0 0.1,0 0.1,0 0.1,0 0.7,0 1,0 1.2,0 0.3,1 0.4,1 0.4,2 0,0 -0.1,1 -0.4,1 -0.3,0 -0.8,0 -1.5,0 -0.3,0 -1.7,1 -3.8,1 l -2.4,0 0,-4 z m 145.5,0 1,0 c 2,0 4,0 4,0 1,0 1,0 1,1 1,0 1,1 1,1 0,1 0,1 0,2 -1,0 -1,1 -2,1 0,0 -1,0 -3,0 l -2,0 z m -145.5,11 3.2,0 c 2.5,0 4.1,0 4.4,0 0.6,0 0.9,0 1.1,1 0.3,0 0.4,0 0.4,1 0,1 -0.1,1 -0.4,1 -0.3,1 -0.7,1 -1.3,1 l 0,0 c -0.3,0 -1.6,0 -3.5,0 l -3.9,0 z" /></SVG></A>    <DIV data-havok-nav-bar-toggle-target="" class="pull-right" >        <UL data-dojo-attach-point="containerNode" class="nav" dir="ltr" id="topNav" widgetId="topNav" data-dojo-type="../widget/NavBarLinks" data-dojo-props="&quot;id&quot;:&quot;topNav&quot;,&quot;_rendered&quot;:true" >            <LI data-havok-handler-id="0" ><A href="/index.html" data-havok-click-target="true" >Home</A></LI>            <LI data-havok-handler-id="1" ><A href="/getting-started.html" data-havok-click-target="true" >Get started</A></LI>            <LI data-havok-handler-id="2" ><A href="/widgets.html" data-havok-click-target="true" >Widgets</A></LI>            <LI data-havok-handler-id="3" ><A href="/forms.html" data-havok-click-target="true" >Forms</A></LI>            <LI data-havok-handler-id="4" ><A href="/stores.html" data-havok-click-target="true" >Stores</A></LI>            <LI data-havok-handler-id="5" ><A href="/data-quality.html" data-havok-click-target="true" >Data Quality</A></LI>            <LI data-havok-handler-id="6" ><A href="/services.html" data-havok-click-target="true" >Services</A></LI>            <LI data-havok-handler-id="7" ><A href="/di.html" data-havok-click-target="true" >DI</A></LI>            <LI data-havok-handler-id="8" ><A href="/builds.html" data-havok-click-target="true" >Builds</A></LI>            <LI data-havok-handler-id="9" ><A href="/api.html" data-havok-click-target="true" >API</A></LI>            <LI data-havok-handler-id="10" ><A href="/dev.html" data-havok-click-target="true" >Dev</A></LI>        </UL>        <DIV data-dojo-attach-point="containerNode" class="btn-group theme-switch" id="serverParsed_9_0" dir="ltr" widgetId="serverParsed_9_0" data-dojo-type="docs/ThemeSwitch" data-dojo-props="&quot;_rendered&quot;:true" ><BUTTON class="btn-inverse btn" data-havok-handler-id="0" ><IMG src="/favicon.png" /></BUTTON><BUTTON class="btn-inverse btn" data-havok-handler-id="1" ><IMG src="/bootstrap.png" /></BUTTON></DIV>    </DIV></DIV></DIV>
        <DIV class="feedback" id="serverParsed_1_1" dir="ltr" widgetId="serverParsed_1_1" data-dojo-type="docs/Feedback" data-dojo-props="&quot;bugLink&quot;:&quot;http://github.com/zoopcommerce/havok/issues&quot;,&quot;issuesLink&quot;:&quot;http://github.com/zoopcommerce/havok/issues&quot;,&quot;forkLink&quot;:&quot;http://github.com/zoopcommerce/havok/fork&quot;,&quot;_rendered&quot;:true" >    <A class="handle" data-dojo-attach-event="click: onClick" >        <I class="fa fa-bullhorn" ></I>        <DIV class="handle-text" >feedback</DIV>    </A>    <DIV class="feedback-links" >        <TABLE >            <TR >                <TD ><I class="fa fa-bug" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/issues" >Report a bug</A></TD>            </TR>            <TR >                <TD ><I class="fa fa-comment" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/issues" >Make a suggestion</A></TD>            </TR>            <TR >                <TD ><I class="fa fa-code-fork" ></I></TD>                <TD ><A href="http://github.com/zoopcommerce/havok/fork" >Fork on Github</A></TD>            </TR>        </TABLE>     </DIV></DIV>
        <MAIN >                <DIV class="container-fluid" >    <DIV class="row-fluid" >        <DIV class="span12 well" >            <DIV class="head" >                <H1 >Builds</H1>                <P >Make your production code small and fast.</P>            </DIV>        </DIV>    </DIV>    <DIV class="row-fluid" >        <DIV class="span3" >                            <UL data-dojo-attach-point="containerNode" class="nav nav-list well" id="serverParsed_6_0" dir="ltr" widgetId="serverParsed_6_0" data-dojo-type="docs/SideNav" data-dojo-props="&quot;_rendered&quot;:true" ><LI data-havok-handler-id="0" data-havok-spy-target="overview" ><A role="navitem" href="#overview" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Overview</A></LI><LI data-havok-handler-id="1" data-havok-spy-target="profile" ><A role="navitem" href="#profile" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Profile</A></LI><LI data-havok-handler-id="2" data-havok-spy-target="make" ><A role="navitem" href="#make" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Make</A></LI><LI data-havok-handler-id="3" data-havok-spy-target="deploy" ><A role="navitem" href="#deploy" ><I style="line-height:20px" class="fa fa-chevron-right pull-right" ></I> Deploy</A></LI></UL>                    </DIV>        <DIV class="span9" id="mainContent" >                <SECTION id="overview" title="Overview" ><DIV class="well" ><H1 >Overview</H1>
<P >Havok uses dojo's AMD loader to load modules, and has a handy ability to compile less client side. This makes development, unit testing and code reuse easy. However, it makes sites slow. An average havok page might load over 60+ separate javascript files, and compile 15 less files. All those requests take too long for a production environment.</P>
<P >Havok can utilize the dojo build system to create layers. Each layer consists of two parts:</P>
<UL >    <LI >A single compressed javascript file containing many AMD modules</LI>    <LI >A compressed css file that contains all the compiled less for the layer</LI></UL>
<P >To build havok layers you will require:<UL >    <LI >node.js installed</LI>    <LI >a <CODE >profile.js</CODE> that describes what should be built</LI></UL>
</P></DIV></SECTION>    <SECTION id="profile" title="Profile" ><DIV class="well" ><H1 >Profile</H1>
<P >A build profile is a js file that describes which packages will be built, which modules should be in any layers, and <I >lots</I> of other switches that can be used to tailor your layer for a specific runtime environment.</P>
<P >Dojo has many settings that can be used to refine the output of a build. Havok tries to simplify this for the most common usage.</P>
<P >The following outlines the properties of a simple build profile which will target the browser environment.</P>
<H2 >releaseDir</H2>
<P >A path relative to the profile where the build will be saved.</P>
<H2 >distDir (optional)</H2>
<P >A path relative to the profile where build layer js and css will be copied.</P>
<H2 >defaultConfig</H2>
<P >Values for <CODE >dojoConfig</CODE> that should be baked into the build. This would normally be set to:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >defaultConfig</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    deps</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/ready!'</SPAN></LI><LI class="L3" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L4" ><SPAN class="pln" >    merge</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/config'</SPAN></LI><LI class="L6" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L7" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<H2 >localeList</H2>
<P >A list of locales to be build. This would normally be set to:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >localeList</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >]</SPAN></LI></OL></PRE>
<H2 >layers</H2>
<P >This is the most important aspect of defining a build profile. Each layer defines a single compressed js file with the included modules and their dependencies along with a compressed css file of all the less for that layer.</P>
<P >Bootable layers include the dojo loader. Non-bootable layers require the dojo loader to be loaded before they can be used.</P>
<H4 >Example layer definitions:</H4>
<P >A layer that includes the dojo loader, and nothing else:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="str" >"dojo/dojo"</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[],</SPAN></LI><LI class="L2" ><SPAN class="pln" >    customBase</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L3" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >A bootable layer that every single havok module. This layer will be the same as the havok distributable:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="str" >"havok/havok"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    includeLocales</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L2" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/*'</SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L5" ><SPAN class="pln" >    boot</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L6" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >A bootable layer that include just the Select and TextBox form widgets:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="str" >"mylayer"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    includeLocales</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L2" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/form/Select'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/form/TextBox'</SPAN></LI><LI class="L5" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L6" ><SPAN class="pln" >    boot</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L7" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >A pair of layers. One is the dojo loader, with a few foundational havok modules. The other can be loaded later with some specific widgets:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="str" >"dojo/dojo"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L2" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/di/Di'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/widget/_WidgetBase'</SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L5" ><SPAN class="pln" >    customBase</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L6" ><SPAN class="pun" >}</SPAN></LI><LI class="L7" ><SPAN class="str" >"mylayer"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L8" ><SPAN class="pln" >    includeLocales</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L9" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L0" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/form/ColorPicker'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L1" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/form/TextEditor'</SPAN></LI><LI class="L2" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L3" ><SPAN class="pln" >    exclude</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"dojo/dojo"</SPAN></LI><LI class="L5" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L6" ><SPAN class="pln" >    boot</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L7" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<P >A layer that includes every module in your own custom AMD package, and a few from Havok:</P><PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="str" >"mypackage/mypackage"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    includeLocales</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L2" ><SPAN class="pln" >    include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'mypackage/*'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/ready'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L5" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/router/started'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L6" ><SPAN class="pln" >        </SPAN><SPAN class="str" >'havok/exception/started'</SPAN></LI><LI class="L7" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L8" ><SPAN class="pln" >    boot</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L9" ><SPAN class="pun" >}</SPAN></LI></OL></PRE>
<H2 >Packages</H2>
<P >An array of AMD packages that should be built along with havok and dojo packages. Location must be a path relative to the profile.</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >packages</SPAN><SPAN class="pun" >:[</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L2" ><SPAN class="pln" >        name</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >"mypackage"</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >        location</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'../mypackage'</SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L5" ><SPAN class="pun" >]</SPAN></LI></OL></PRE>
<H2 >Complete Example</H2>
<P >A complete build profile might look like this:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="kwd" >var</SPAN><SPAN class="pln" > profile </SPAN><SPAN class="pun" >=</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L1" ><SPAN class="pln" >    releaseDir</SPAN><SPAN class="pun" >:</SPAN><SPAN class="str" >"../release"</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L2" ><SPAN class="pln" >    distDir</SPAN><SPAN class="pun" >:</SPAN><SPAN class="str" >"../dist"</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L3" ><SPAN class="pln" >    defaultConfig</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L4" ><SPAN class="pln" >        deps</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L5" ><SPAN class="pln" >            </SPAN><SPAN class="str" >'havok/ready!'</SPAN></LI><LI class="L6" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L7" ><SPAN class="pln" >        merge</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L8" ><SPAN class="pln" >            </SPAN><SPAN class="str" >'havok/config'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L9" ><SPAN class="pln" >            </SPAN><SPAN class="str" >'mypackage/config'</SPAN></LI><LI class="L0" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L1" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L2" ><SPAN class="pln" >    localeList</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L3" ><SPAN class="pln" >    layers</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L4" ><SPAN class="pln" >        </SPAN><SPAN class="str" >"mypackage/mypackage"</SPAN><SPAN class="pun" >:{</SPAN></LI><LI class="L5" ><SPAN class="pln" >            includeLocales</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN><SPAN class="str" >'en-gb'</SPAN><SPAN class="pun" >,</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'en-us'</SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L6" ><SPAN class="pln" >            include</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="pun" >[</SPAN></LI><LI class="L7" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'mypackage/*'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L8" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'havok/ready'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L9" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'havok/router/started'</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L0" ><SPAN class="pln" >                </SPAN><SPAN class="str" >'havok/exception/started'</SPAN></LI><LI class="L1" ><SPAN class="pln" >            </SPAN><SPAN class="pun" >],</SPAN></LI><LI class="L2" ><SPAN class="pln" >            boot</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="lit" >1</SPAN></LI><LI class="L3" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L4" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >},</SPAN></LI><LI class="L5" ><SPAN class="pln" >    packages</SPAN><SPAN class="pun" >:[</SPAN></LI><LI class="L6" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >{</SPAN></LI><LI class="L7" ><SPAN class="pln" >            name</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >"mypackage"</SPAN><SPAN class="pun" >,</SPAN></LI><LI class="L8" ><SPAN class="pln" >            location</SPAN><SPAN class="pun" >:</SPAN><SPAN class="pln" > </SPAN><SPAN class="str" >'../mypackage'</SPAN></LI><LI class="L9" ><SPAN class="pln" >        </SPAN><SPAN class="pun" >}</SPAN></LI><LI class="L0" ><SPAN class="pln" >    </SPAN><SPAN class="pun" >]</SPAN></LI><LI class="L1" ><SPAN class="pun" >}</SPAN></LI></OL></PRE></DIV></SECTION>    <SECTION id="make" title="Make" ><DIV class="well" ><H1 >Make</H1>
<P >Run the build using the <CODE >havok/build/make.js</CODE> script, with your build profile as an arguemnt. Eg:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="pln" >node path</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >to</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >havok</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >build</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >make</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >js path</SPAN><SPAN class="pun" >/</SPAN><SPAN class="pln" >to</SPAN><SPAN class="pun" >/</SPAN><SPAN class="kwd" >my</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >profile</SPAN><SPAN class="pun" >.</SPAN><SPAN class="pln" >js</SPAN></LI></OL></PRE>
<P >Builds do a lot of processing, and may take several minutes to complete.</P>
<P >During the build, a dojo build profile called <CODE >path/to/my.profile.processed.js</CODE> will be created. It contains the complete expanded build profile will all settings. You may wish to inspect this file. Any of the defaults can be overridden in <CODE >path/to/my.profile.js</CODE>.</P>
<P ><CODE >make.js</CODE> reads a profile and passes it through several stages of processing. Each of these stanges can be run separately from the command line, which may be useful when debuggin a build:</P>
<UL >    <LI ><CODE >node path/to/havok/build/ext/prepareReleaseDir.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/mixinDefault.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/fixupLocationsAndPaths.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/externalLess.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/expandPackageIncludes.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/mergeConfigs.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/build.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/compileLess.js path/to/my.profile.js</CODE>.</LI>    <LI ><CODE >node path/to/havok/build/ext/copyDist.js path/to/my.profile.js</CODE>.</LI></UL></DIV></SECTION>    <SECTION id="deploy" title="Deploy" ><DIV class="well" ><H1 >Deploy</H1>
<P >You built layers will be saved in the <CODE >distDir</CODE> defined in your build profile.</P>
<P >Place the following in your <CODE >head</CODE> tag to use your built layers:</P>
<PRE class="prettyprint linenums" ><OL class="linenums" ><LI class="L0" ><SPAN class="tag" >&lt;link</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >rel</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"stylesheet"</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >href</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"path/to/layer.css"</SPAN><SPAN class="tag" >&gt;</SPAN></LI><LI class="L1" ><SPAN class="tag" >&lt;script</SPAN><SPAN class="pln" > </SPAN><SPAN class="atn" >src</SPAN><SPAN class="pun" >=</SPAN><SPAN class="atv" >"path/to/bootable/layer.js"</SPAN><SPAN class="tag" >&gt;&lt;/script&gt;</SPAN></LI></OL></PRE><P >Note: these docs use a bootable havok layer. Take a look at the source to see.</P></DIV></SECTION>        </DIV>    </DIV></DIV>        </MAIN>
        <SPAN class="" id="serverParsed_7_0" dir="ltr" widgetId="serverParsed_7_0" data-dojo-type="../widget/Overlay" data-dojo-props="&quot;target&quot;:&quot;docBody&quot;,&quot;_rendered&quot;:true" >    <SPAN class="hide overlay  main-overlay" data-dojo-attach-point="overlay" >        <SPAN class="overlay-backdrop" data-dojo-attach-point="backdrop" ></SPAN>        <SPAN class="overlay-content" data-dojo-attach-point="containerNode" >            <DIV ><SPAN class="icon-spinner icon-spin" ></SPAN></DIV><P >Loading more havok...</P>        </SPAN>    </SPAN></SPAN>
        <FOOTER class="footer" >            <DIV class="container" >                <P >Created by <A href="http://github.com/superdweebie" >@superdweebie</A> and <A href="http://github.com/crimsonronin" >@crimsonronin</A>.</P>                <P >Code licensed under MIT.</P>                <P >Built on the shoulders of giants <A href="http://twitter.github.io/bootstrap" >bootstrap</A> and <A href="http://dojotoolkit.org" >dojo</A>.</P>                <UL class="footer-links" >                    <LI ><A href="http://zoopcommerce.com" >Zoop</A></LI>                    <LI class="muted" >·</LI>                    <LI ><A href="https://github.com/zoopcommerce/havok/issues?state=open" >Issues</A></LI>                    <LI class="muted" >·</LI>                    <LI ><A href="https://github.com/zoopcommerce/havok/blob/master/CHANGELOG.md" >Changelog</A></LI>                </UL>            </DIV>        </FOOTER>    </BODY></html>